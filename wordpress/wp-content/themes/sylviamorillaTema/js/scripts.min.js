function checkBot(){
    var array_bots = [
        'Mozilla/5.0 (Windows NT 6.1; rv:6.0) Gecko/20110814 Firefox/6.0',
        'facebook',
        'googlebot',
        'bingbot',
        'aol',
        'galaxybot',
        'msnbot',
        'yahooseeker',
        'yahooseeker-testing'
    ];
    var bot = "";
    
    for (var i = 0; i < array_bots.length; i++){
        if (navigator.userAgent.toLowerCase().indexOf(array_bots[i].toLowerCase()) != -1){
            return true;
        }
    }
    return false;
};

(function(window){

	var Main = {};
    var resize_timeout;
    var skrollr_s;
    var isiPad;
    var isAndroid;

    Main.mostraLoader = function(){   
        $("#loader-init").stop(true, true).fadeIn(200);
    };

    Main.fechaLoader = function(){
        $("#loader-init").stop(true, true).fadeOut(300);
    };

    Main.contentMostraLoader = function(parent){parent.children('.content-loader').stop(true, true).fadeIn(200);};
    Main.contentFechaLoader = function(parent){parent.children('.content-loader').stop(true, true).fadeOut(300);};

    Main.initFn = function(){
        console.log('Main.initFn');
        Main.initEvents();
        Main.resize();



        $(window).resize(function(e){
            Main.resize();
        });

        $(window).scroll(function(e) {
            Main.scrollEventHandler();
        });

        $(window).on('beforeunload', function(){Main.mostraLoader();});
    };

    Main.initEvents = function(){   
        console.log("initEvents");

        var ua = navigator.userAgent.toLowerCase(); 
        console.log(ua);
        if (ua.indexOf('safari') != -1) { 
            if (ua.indexOf('chrome') > -1) {
                $('.rz').fitContainer();
            }    
        } else {
            $('.rz').fitContainer();    
        }

        window.setTimeout(function(){
            Main.fechaLoader();
        },500);


        isiPad = navigator.userAgent.match(/iPad/i) != null;
        isAndroid = navigator.userAgent.toLowerCase().indexOf("android") > -1;
        
        if (isiPad){
            $('html').addClass('ipad');
        }
        if (isAndroid){
            $('html').addClass('android');   
        }

        //menu
        $('.click_menu').on('click', function(){
            $('.click_menu').toggleClass('is-active');
            if ($('.click_menu').hasClass('is-active')){
            	console.log("has class");
                $('#menu').addClass('open');
                $('body').addClass('open');
            } else {
                $('#menu').removeClass('open');
                $('body').removeClass('open');
            }

            Main.resize();
        });

        //words category slides

        // $.each($('#carousel-categories .category-name'), function(index, val) {
        //     console.log($(this));
        //     var category_name = $(this).text().split(" ");
        //     $(this).empty();
        //     $.each(category_name, function(i, v) {
        //         $(this).append($("<span>").text(v));
        //     });
        // });

        $.each($('#carousel-categories .rz'), function(index, val) {
            $(this).fitContainer();
            TweenMax.staggerTo($(this), .5, {opacity: 1, delay: .2, ease: Power0.easeNone}, 0.25);
        });
        

        


        var content_team = $('.team-container');
        content_team.imagesLoaded( function () {
            content_team.masonry({
                columnWidth: '.item-tm',
                itemSelector: '.item-tm',
                percentPosition: true
            });
        });
        
        $('.blog-container').isotope({
            itemSelector: '.post-item',
            percentPosition: true,
            masonry: {
                columnWidth: '.post-sizer'
            }
        });
        TweenMax.staggerFrom(".blog-container .post-item", 0.5, {scale:0.8, opacity: 0, delay:0.2, ease:Power0.easeNone, force3D:true}, .3);
        

        $('.dropdown-filter-blog').dropdown();


        $('.link-post').on('click', function (e){
            e.preventDefault();

            var page = $(this).attr('data-page');
            Main.openModal(page);
        });

        $('.close_post').on('click', function (e){
            e.preventDefault();
            console.log("clicou");
            closeModal();
        });

        isiPad = navigator.userAgent.match(/iPad/i) != null;
        // Skrollr
        if (!$('.mobile').length && !$('.ipad').length){
            skrollr_s = skrollr.init({
                forceHeight: false
            });
        }
    }

    Main.closeModal = function(){
        $('#load-blog').stop(true,true).fadeOut(300, function(){
            $(this).find('.content').html('');
            $(this).find('.content').css('display','none');
            $(this).find('.bt-close').css('display','none');
            $('body, html').css('overflow-y','auto');
            $('#load-blog').removeClass('open');
        });
    }

    Main.openModal = function(page){
        var url_page = root_path + '/' + page + '.php?ajaxLoad=true';

        $('body, html').css('overflow','hidden');
        $('#load-blog').stop(true,true).fadeIn(300, function(){
            $(this).find('.content').load(url_page, function() {
                var elm = $(this);
                window.setTimeout(function(){
                    // elm.stop(true,true).fadeIn(300);
                    elm.stop(true,true).fadeIn(300);
                    $('#load-blog').addClass('open');

                    $('.close_post').on('click', function (e){
                        e.preventDefault();
                        Main.closeModal();
                    });
                },1000);
            });
        });
    }


    Main.scrollEventHandler = function(){   
        console.log("scrollEventHandler");
    }

    Main.resize = function(){   
        console.log("resize");

        // $('.rz').fitContainer();
        var h_content_logo = 0;
        if ($(window).width() >= 960){
            h_content_logo = $('.logo-home').innerHeight() + ($('.logo-home').offset().top*2);
            $('#home, body .content-logo-center').height(h_content_logo);




            $('[id^=carousel-pag-]').click( function(){
                var id_selector = $(this).attr("id");
                var id = id_selector.substr(id_selector.length -1);
                id = parseInt(id);
                $('#carousel-categories').carousel(id);
                $('[id^=carousel-pag-]').removeClass('active');
                $(this).addClass('active');
            }); 


            $('#carousel-categories').on('slid.bs.carousel', function (e) {
                $(this).find('.thumb-item').css('opacity', '0');

                var id = $('.item.active').data('slide-number');
                id = parseInt(id);
                $('[id^=carousel-pag-]').removeClass('active');
                $('[id=carousel-pag-'+id+']').addClass('active');

                $('.rz').fitContainer();

                // $.each($('#carousel-categories .rz'), function(index, val) {
                //     $(this).fitContainer();
                //     TweenMax.staggerTo($(this), .5, {opacity: 1, delay: .2, ease: Power0.easeNone}, 0.25);
                // });


                var item = $(this).find('.thumb-item');
                TweenMax.staggerTo(item, .5, {opacity: 1, delay: .2, ease: Power0.easeNone}, 0.01);
            });
        }else{
            h_content_logo = $(window).height()
            $('#home, body .content-logo-center').height(h_content_logo);


            $('.carousel-inner').carousel('pause');
        }

        window.clearTimeout(resize_timeout);
        resize_timeout = window.setTimeout(function(){
            isiPad = navigator.userAgent.match(/iPad/i) != null;
            if ($(window).width() >= 960 && !isiPad && !$('.touch').length){
                skrollr_s = skrollr.init({
                    forceHeight: false
                });  
            } else {
                if (typeof skrollr_s != "undefined"){
                    skrollr_s.destroy();    
                }
            }
        },500);
    }

    window.Main = Main;
}(window));


$(document).ready(function() {
    $.ajaxSetup({ cache: true });
    Main.initFn();
});

/* Next file */

// (function( window, document, undefined ){
//   var obj = function() {
//     return {

//       init : function() {
//         console.log( "home" );
//       }, // init


//       soma_valor : function( num1, num2 ) {
//         return num1 + num2;
//       } // soma_valor

//     }; // return
//   }; // obj

//   obj().init();
// })( window, document );